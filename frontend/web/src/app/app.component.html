<div *ngIf="isLoading | async" class="is-loading">
</div>
<div class="nav-bar-container-header">
  <div class="toolbars-container" *ngIf="isLogin">
    <mat-toolbar class="toolbar-first">
      <div class="logo-omi-container">
        <img alt="logo-omicron" src="assets/images/logo2.svg"  class="logo-nav-bar">
      </div>

      <div class="user-logged-container">
        <div class="user-title-container">
          <span class="hello-text">Hola , </span> <span class="user-title">{{fullName}}</span>
        </div>
        <div class="link-logout">
          <button mat-button [matMenuTriggerFor]="logoutMenu">
            <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>
          </button>
          <mat-menu #logoutMenu="matMenu">
            <div class="option-logout-container">
              <button mat-icon-button (click)="endSession()">
                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-out"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                Cerrar sesión
              </button>
            </div>
          </mat-menu>
        </div>

      </div>
    </mat-toolbar>

    <mat-toolbar class="nav-bar-menu-container">
      <mat-toolbar-row class="row-options-container">

        <button mat-icon-button (click)="sidenav.toggle()" fxShow="true" fxHide.gt-sm>
          <mat-icon>menu</mat-icon>
        </button>

        <button mat-icon-button fxShow="true" fxHide.gt-sm>
          Menu
        </button>

        <div fxShow="true" fxHide.lt-md class="menu-options-container">
          <!-- The following menu items will be hidden on both SM and XS screen sizes -->
          <div *ngIf="role === '3'" [ngClass]="iconMenuActive === 0 || iconMenuActive === 1 || iconMenuActive === 3 ? 'menu-no-active-color' : 'menu-active-color'"  class="menu-option-button color-ico-menu" (click)="goToPage(['pedidos'])">
            <svg *ngIf="iconMenuActive !== 0 && iconMenuActive !== 1 && iconMenuActive !== 3 " xmlns="http://www.w3.org/2000/svg"  aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 16 16"><g fill="#04151F"><path fill-rule="evenodd" d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5L8 5.961L14.154 3.5l-2.404-.961zm3.25 1.7l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"></path></g></svg>
            <svg *ngIf="iconMenuActive === 0 || iconMenuActive === 1 || iconMenuActive === 3" xmlns="http://www.w3.org/2000/svg"  aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 16 16"><g fill="#fff"><path fill-rule="evenodd" d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2l-2.218-.887zm3.564 1.426L5.596 5L8 5.961L14.154 3.5l-2.404-.961zm3.25 1.7l-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923l6.5 2.6zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464L7.443.184z"></path></g></svg>
            <a class="nav-link title-nav-header" mat-button>Pedidos</a>
          </div>
          <div *ngIf="role === '3'" [ngClass]="iconMenuActive === 4 ? 'menu-no-active-color' : 'menu-active-color'" class="menu-option-button margin-left-options" (click)="goToPage(['ordenes'])">
            <svg *ngIf="iconMenuActive !== 4" xmlns="http://www.w3.org/2000/svg"  aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M25.7 9.3l-7-7c-.2-.2-.4-.3-.7-.3H8c-1.1 0-2 .9-2 2v24c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V10c0-.3-.1-.5-.3-.7zM18 4.4l5.6 5.6H18V4.4zM24 28H8V4h8v6c0 1.1.9 2 2 2h6v16z" fill="#04151F"></path><path d="M10 22h12v2H10z" fill="#04151F"></path><path d="M10 16h12v2H10z" fill="#04151F"></path></svg>
            <svg *ngIf="iconMenuActive === 4" xmlns="http://www.w3.org/2000/svg"  aria-hidden="true" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 32 32"><path d="M25.7 9.3l-7-7c-.2-.2-.4-.3-.7-.3H8c-1.1 0-2 .9-2 2v24c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V10c0-.3-.1-.5-.3-.7zM18 4.4l5.6 5.6H18V4.4zM24 28H8V4h8v6c0 1.1.9 2 2 2h6v16z" fill="#fff"></path><path d="M10 22h12v2H10z" fill="#fff"></path><path d="M10 16h12v2H10z" fill="#fff"></path></svg>
            <a class="nav-link title-nav-header" mat-button>Órdenes de Fabricación</a>
          </div>
          <div *ngIf="role === '1'" [ngClass]="iconMenuActive === 2 ? 'menu-no-active-color' : 'menu-active-color'" class="menu-option-button margin-left-options" (click)="goToPage(['userList'])">
            <svg *ngIf="iconMenuActive !== 2" xmlns="http://www.w3.org/2000/svg" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 36 36"><path class="clr-i-solid clr-i-solid-path-1" d="M12 16.14h-.87a8.67 8.67 0 0 0-6.43 2.52l-.24.28v8.28h4.08v-4.7l.55-.62l.25-.29a11 11 0 0 1 4.71-2.86A6.59 6.59 0 0 1 12 16.14z" fill="#04151F"/><path class="clr-i-solid clr-i-solid-path-2" d="M31.34 18.63a8.67 8.67 0 0 0-6.43-2.52a10.47 10.47 0 0 0-1.09.06a6.59 6.59 0 0 1-2 2.45a10.91 10.91 0 0 1 5 3l.25.28l.54.62v4.71h3.94v-8.32z" fill="#04151F"/><path class="clr-i-solid clr-i-solid-path-3" d="M11.1 14.19h.31a6.45 6.45 0 0 1 3.11-6.29a4.09 4.09 0 1 0-3.42 6.33z" fill="#04151F"/><path class="clr-i-solid clr-i-solid-path-4" d="M24.43 13.44a6.54 6.54 0 0 1 0 .69a4.09 4.09 0 0 0 .58.05h.19A4.09 4.09 0 1 0 21.47 8a6.53 6.53 0 0 1 2.96 5.44z" fill="#04151F"/><circle class="clr-i-solid clr-i-solid-path-5" cx="17.87" cy="13.45" r="4.47" fill="#04151F"/><path class="clr-i-solid clr-i-solid-path-6" d="M18.11 20.3A9.69 9.69 0 0 0 11 23l-.25.28v6.33a1.57 1.57 0 0 0 1.6 1.54h11.49a1.57 1.57 0 0 0 1.6-1.54V23.3l-.24-.3a9.58 9.58 0 0 0-7.09-2.7z" fill="#04151F"/></svg>
            <svg *ngIf="iconMenuActive === 2" xmlns="http://www.w3.org/2000/svg" focusable="false" width="1em" height="1em" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);" preserveAspectRatio="xMidYMid meet" viewBox="0 0 36 36"><path class="clr-i-solid clr-i-solid-path-1" d="M12 16.14h-.87a8.67 8.67 0 0 0-6.43 2.52l-.24.28v8.28h4.08v-4.7l.55-.62l.25-.29a11 11 0 0 1 4.71-2.86A6.59 6.59 0 0 1 12 16.14z" fill="#fff"/><path class="clr-i-solid clr-i-solid-path-2" d="M31.34 18.63a8.67 8.67 0 0 0-6.43-2.52a10.47 10.47 0 0 0-1.09.06a6.59 6.59 0 0 1-2 2.45a10.91 10.91 0 0 1 5 3l.25.28l.54.62v4.71h3.94v-8.32z" fill="#fff"/><path class="clr-i-solid clr-i-solid-path-3" d="M11.1 14.19h.31a6.45 6.45 0 0 1 3.11-6.29a4.09 4.09 0 1 0-3.42 6.33z" fill="#fff"/><path class="clr-i-solid clr-i-solid-path-4" d="M24.43 13.44a6.54 6.54 0 0 1 0 .69a4.09 4.09 0 0 0 .58.05h.19A4.09 4.09 0 1 0 21.47 8a6.53 6.53 0 0 1 2.96 5.44z" fill="#fff"/><circle class="clr-i-solid clr-i-solid-path-5" cx="17.87" cy="13.45" r="4.47" fill="#fff"/><path class="clr-i-solid clr-i-solid-path-6" d="M18.11 20.3A9.69 9.69 0 0 0 11 23l-.25.28v6.33a1.57 1.57 0 0 0 1.6 1.54h11.49a1.57 1.57 0 0 0 1.6-1.54V23.3l-.24-.3a9.58 9.58 0 0 0-7.09-2.7z" fill="#fff"/></svg>
            <a class="nav-link title-nav-header" mat-button>Usuarios</a>
          </div>
          <div *ngIf="role === '3'" [matMenuTriggerFor]="menu" [ngClass]="iconMenuActive === 5 ? 'menu-no-active-color' : 'menu-active-color'" class="menu-option-button margin-left-options">
            <svg *ngIf="iconMenuActive !== 5" xmlns="http://www.w3.org/2000/svg" width="512" height="512" preserveAspectRatio="xMidYMid meet" viewBox="0 0 512 512" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);"><path d="M396.8 352h22.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-192 0h22.4c6.4 0 12.8-6.4 12.8-12.8V140.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h22.4c6.4 0 12.8-6.4 12.8-12.8V204.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zM496 400H48V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16zm-387.2-48h22.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8z" fill="#04151F"/><rect x="0" y="0" width="512" height="512" fill="rgba(0, 0, 0, 0)" /></svg>
            <svg *ngIf="iconMenuActive === 5" xmlns="http://www.w3.org/2000/svg" width="512" height="512" preserveAspectRatio="xMidYMid meet" viewBox="0 0 512 512" style="-ms-transform: rotate(360deg); -webkit-transform: rotate(360deg); transform: rotate(360deg);"><path d="M396.8 352h22.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-192 0h22.4c6.4 0 12.8-6.4 12.8-12.8V140.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h22.4c6.4 0 12.8-6.4 12.8-12.8V204.8c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zM496 400H48V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16zm-387.2-48h22.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-22.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8z" fill="#FFF"/><rect x="0" y="0" width="512" height="512" fill="rgba(0, 0, 0, 0)" /></svg>
            <a class="nav-link title-nav-header" mat-button>Gráficas</a>
          </div>
          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="goToPage(['productividad'])">Productividad</button>
            <button mat-menu-item (click)="goToPage(['workLoad'])">Carga de trabajo</button>
          </mat-menu>

        </div>
      </mat-toolbar-row>
    </mat-toolbar>
  </div>
<div [ngClass]="isLogin? 'mat-container-custom-home': 'mat-container-custom-login'">
  <mat-sidenav-container fxFlexFill>
    <mat-sidenav #sidenav>
      <mat-nav-list>
        <a *ngIf="role === '3'" mat-list-item [routerLink]="['pedidos']">Pedidos</a>
        <a *ngIf="role === '3'" mat-list-item [routerLink]="['ordenes']">Órdenes de Fabricación</a>
        <a *ngIf="role === '1'" mat-list-item [routerLink]="['userList']">Usuarios</a>
        <a *ngIf="role === '3'" mat-list-item [matMenuTriggerFor]="menu">Gráficas</a>
      </mat-nav-list>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="goToPage(['productividad'])">Productividad</button>
        <button mat-menu-item (click)="goToPage(['workLoad'])">Carga de trabajo</button>
      </mat-menu>
    </mat-sidenav>
    <mat-sidenav-content fxFlexFill>
      <mat-progress-bar class="loading-bar" *ngIf="isLoading | async" mode="indeterminate"></mat-progress-bar>
      <router-outlet></router-outlet>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
</div>
