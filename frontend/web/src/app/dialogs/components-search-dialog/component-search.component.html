<div class="find-component-container">
    <mat-card class="component-card">
        <mat-card-header class="card-header-container">
            <mat-card-title><span *ngIf="isFromSearchComponent">Buscar componentes</span> <span *ngIf="!isFromSearchComponent">Crear orden de fabricación</span>
            </mat-card-title>
            <mat-icon mat-dialog-close class="cursor-pointer">clear</mat-icon>
        </mat-card-header>
        <mat-card-content class="content-card-container">
            <div class="row-form">
                <div class="form-field-full">
                    <mat-form-field appearance="outline" class="custom-field-full generalinput example-chip-list">
                        <mat-chip-list #chipList aria-label="Fruit selection" [disabled]="isDisableSearch">
                          <mat-chip *ngFor="let word of keywords" [selectable]="selectable"
                                   [removable]="removable" (removed)="removeChip(word)">
                            {{word}}
                            <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                            </mat-chip>
                            <input #chipsInput [placeholder]="isFromSearchComponent ? 'Búsqueda de componentes...' : 'Buscar código del producto'"
                                 [matChipInputFor]="chipList"
                                 [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                 [matChipInputAddOnBlur]="addOnBlur"
                                 (matChipInputTokenEnd)="addChip($event)"
                                 (keydown)="onKeyDown($event)">
                        </mat-chip-list>
                    </mat-form-field>
                    <div class="table-container-components scroll-custom">
                        <table mat-table [dataSource]="dataSource" [ngClass]="dataSource.data.length !== 0 ? 'mat-elevation-z8' : ''">
                            <ng-container matColumnDef="numero">
                                <th mat-header-cell *matHeaderCellDef class=""> <span *ngIf="isFromSearchComponent">N°</span> <span *ngIf="!isFromSearchComponent">CÓDIGO DEL PRODUCTO</span></th>
                                <td mat-cell *matCellDef="let element;" class="color-text-intables tdcell numero">{{ isFromSearchComponent ? element.productId : element.productoId }}</td>
                            </ng-container>
                
                            <ng-container matColumnDef="descripcion">
                            <th mat-header-cell *matHeaderCellDef class="mobile-hide"> DESCRIPCIÓN </th>
                            <td mat-cell *matCellDef="let element;" class="color-text-intables tdcell tdemail mobile-hide descripcion"> {{isFromSearchComponent ? element.description  : element.productoName}} </td>
                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef="displayedColumns" class="color-text-intables"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="cursor-pointer" (click)="selectComponent(row)"></tr>
                        </table>
                        <div class="no-users-registered mat-elevation-z8" *ngIf="dataSource.data.length === 0">
                            <span>No hay resultados</span>
                        </div>
                    </div>
                    <div *ngIf="dataSource.data.length !== 0" class="paginator-container">
                        <mat-paginator
                                [pageSizeOptions]="[5, 10, 15, 20]"
                                [pageSize]="pageSize"
                                [length]="lengthPaginator"
                                (page)="pageEvent = changeDataEvent($event)"
                        ></mat-paginator>
                    </div>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
</div>
