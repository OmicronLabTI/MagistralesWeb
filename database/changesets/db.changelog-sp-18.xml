<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">
	<changeSet author="jespinosap" id="changelog-1.1">
		<createTable tableName="productionorderprocessingstatus">
			<column name="id" type="NVARCHAR(36)">
				<constraints nullable="false" primaryKey="true" />
			</column>
			<column name="productionorderid" type="INT">
				<constraints nullable="false" />
			</column>
			<column name="laststep" type="NVARCHAR(100)">
				<constraints nullable="false" />
			</column>
			<column name="status" type="NVARCHAR(20)">
				<constraints nullable="false" />
			</column>
			<column name="errormessage" type="NVARCHAR(500)" />
			<column name="payload" type="JSON">
				<constraints nullable="false" />
			</column>
			<column name="createdat" type="TIMESTAMPTZ">
				<constraints nullable="false" />
			</column>
			<column name="lastupdated" type="TIMESTAMPTZ">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet author="lreyes" id="changelog-1.2">
		<createTable tableName="configwarehouses">
			<column name="id" type="INT" autoIncrement="true">
				<constraints nullable="false" primaryKey="true" />
			</column>
			<column name="mainwarehouse" type="VARCHAR(25)">
				<constraints nullable="false" />
			</column>
			<column name="manufacturers" type="VARCHAR(100)">
				<constraints nullable="false" />
			</column>
			<column name="products" type="TEXT">
				<constraints nullable="false" />
			</column>
			<column name="exceptions" type="TEXT">
				<constraints nullable="true" />
			</column>
			<column name="alternativewarehouses" type="TEXT">
				<constraints nullable="true" />
			</column>
			<column name="isactive" type="BOOLEAN" defaultValue="false">
				<constraints nullable="false" />
			</column>
		</createTable>
	</changeSet>
	<changeSet author="jespinosap" id="changelog-1.3">
		<sql>
			ALTER TABLE productionorderprocessingstatus
			ALTER COLUMN errormessage TYPE TEXT;
		</sql>
	</changeSet>
</databaseChangeLog>